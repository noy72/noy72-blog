---
title: Lisp 布教書 『Land of Lisp』を読んだ
tags: ["技術書", "Lisp", "関数型プログラミング"]
---

lispはいいぞ（洗脳）

[ここ](http://landoflisp.com/)が原著の公式サイト．

以下の書籍が実際に読んだ翻訳版．
https://www.oreilly.co.jp/books/9784873115870/|embed

## Land of Lisp に載っていること

- クロマニヨン人について
- 副作用を利用したことで Haskell 共和国に身柄を拘束されることとなった少年（フィクション）
- サスカッチなどと言われていた未確認生物が，Lisperであるかもしれないということ  
  (MIT の地下にいるかも)
- 楽しい漫画！
- こんなヤバいプログラム，教科書に載っていいのか！（原文ママ）
- ジェーン・オースティンはズッ友よ！（原文ママ）

## もうちょっと真面目に

本書の内容は，簡単なゲームの開発などを通して Lisp の文法や機能を解説するというもの．ゲーム開発では隣接リストを用いたグラフ表現が出てきたりする．ゲーム以外だと，Web サーバーを立てたり，DSL を作成したりする（ゲーム開発の一貫だけど）．

原文でどう書かれているかは分からないが，訳された文章は軽快で，教科書や技術書というよりも布教書と言いたくなる．

### 実際に読んでみて

Lispというとカッコだらけの難解な言語，というイメージだった．なにせマスコットは Lisp **エイリアン**．実際に （Common）Lisp に触れてみると，Lisp は意味不明の謎言語というわけではないことがわかった．

というのも，関数呼び出しなら，

```
add(2, 5) // いつもの関数呼び出し
```

```lisp
(add 2 5) ; カッコ '(' が関数名の右に移動した
```

値の演算なら，

```
1 + 2 * 3 // いつもの演算
```

```lisp
(+ 1 (* 2 3)) ; add(1, mul(2, 3)) みたいな順序
```

と，割と自然に解釈できるからだ．

Lisp のおかげか別の言語でラムダ式や高階関数を触ったおかげかはわからないが，前に Haskell を勉強したときに比べてはるかに理解しやすかった．読み進めると Lisp にも慣れてきて，心なしか Lisp エイリアンも可愛く見えて……はこなかった．
<small>目が多いのすかんそす……</small>

ちなみに，使ったコンパイラは[sbcl](http://www.sbcl.org).

### カッコが多い ))))

カッコが連続するせいでどれが対応しているかがわかりにくい．これはむしろ，カッコだらけでわからなくなるような大きな関数を作るなという示唆かもしれない．実際，本書に乗っているコードの関数はどれも小さい．小さな部品を組み合わせて期待する機能を実現しており，手続き的に書くのとは全く違うことがわかる．

### 発見

- Common Lisp は意外にも手続き的に書ける．
- 文法はそんなに変じゃない（気がする）．

```python
def hello():
  print("Hello World")
```

```lisp
(defun hello()
  (princ "Hello World"))
```

そもそも Hello World ほど小さいコードなら，どの言語も差が小さくなるから比較しても意味がないよね．
`let` を使ったり，リストの操作をしたりするともっとカッコだらけになる．

## まとめ

- Lisp を楽しく学べる．  
  ただし，素朴なゲームの開発が中心なので好き嫌いはありそう．
- 関数型言語の入門にもよさそう（諸説あり）．

次は Haskell を学び直そう．
